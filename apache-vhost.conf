# ============================================
# HUONG DAN CAI DAT APACHE CHO SKILLRANK
# ============================================
#
# Buoc 1: Mo file C:\xampp\apache\conf\httpd.conf
#   - Tim dong: #LoadModule proxy_module modules/mod_proxy.so
#     Bo dau # => LoadModule proxy_module modules/mod_proxy.so
#   - Tim dong: #LoadModule proxy_http_module modules/mod_proxy_http.so
#     Bo dau # => LoadModule proxy_http_module modules/mod_proxy_http.so
#   - Tim dong: #LoadModule rewrite_module modules/mod_rewrite.so
#     Bo dau # => LoadModule rewrite_module modules/mod_rewrite.so
#
# Buoc 2: Mo file C:\xampp\apache\conf\extra\httpd-vhosts.conf
#   - Them noi dung ben duoi vao cuoi file
#
# Buoc 3: Restart Apache trong XAMPP Control Panel
# ============================================

# --- COPY TU DAY XUONG vao httpd-vhosts.conf ---

<VirtualHost *:80>
    ServerName localhost
    # Neu co ten mien thi doi thanh:
    # ServerName tenmiencuaban.com
    # ServerAlias www.tenmiencuaban.com

    DocumentRoot "C:/xampp/htdocs/skillrank"

    <Directory "C:/xampp/htdocs/skillrank">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Proxy API requests toi Flask backend
    ProxyPreserveHost On
    ProxyPass /api http://localhost:5000/api
    ProxyPassReverse /api http://localhost:5000/api

    # Proxy uploads toi Flask
    ProxyPass /uploads http://localhost:5000/uploads
    ProxyPassReverse /uploads http://localhost:5000/uploads
</VirtualHost>
